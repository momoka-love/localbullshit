<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Bullshit!</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
<style>
  :root{
    --pink-1: #fff0f6;
    --pink-2: #ffd6e7;
    --accent: #ff84b1;
    --muted: #8f6b83;
    --white: #ffffff;
    --card-shadow: 0 8px 20px rgba(168, 92, 125, 0.12);
  }

  html, body {
    margin:0;
    padding:0;
    height:100%;
    font-family: "Poppins", sans-serif;
    background: linear-gradient(180deg, var(--pink-1), var(--pink-2));
    color:#53324b;
  }

  .app {
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:20px;
    box-sizing:border-box;
  }

  .card-shell{
    width:100%;
    max-width:1100px;
    background: linear-gradient(180deg, rgba(255,255,255,0.85), rgba(255,255,255,0.95));
    border-radius:20px;
    box-shadow: 0 12px 36px rgba(138,74,102,0.12);
    padding:22px;
    box-sizing:border-box;
    backdrop-filter: blur(6px);
  }

  header.app-header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    margin-bottom:18px;
  }

  .logo { display:flex; align-items:center; gap:12px; }
  .logo .mark{
    width:56px; height:56px;
    border-radius:12px;
    display:flex; align-items:center; justify-content:center;
    font-weight:700; color:var(--white);
    background: linear-gradient(135deg, #ff9cc7, #ff69a8);
    box-shadow: 0 6px 18px rgba(255,105,168,0.2);
    font-size:20px;
  }
  .logo h1{ margin:0; font-size:20px; color:#3a2140; }
  .logo p{ margin:0; font-size:12px; color:var(--muted); }

  #lobby-container{ display:flex; gap:16px; align-items:center; flex-wrap:wrap; margin-bottom:18px; }
  .input-row{ display:flex; gap:12px; align-items:center; flex-wrap:wrap; }
  input[type="text"]{
    border:1px solid rgba(83,50,75,0.08);
    padding:12px 14px; border-radius:10px; font-size:14px; width:200px;
    background:transparent; outline:none;
    box-shadow:inset 0 1px 0 rgba(255,255,255,0.6);
  }

  button{
    background: linear-gradient(180deg, #ff79b3, #ff5b98);
    color:white; border:none; padding:10px 14px; border-radius:10px;
    font-weight:600; cursor:pointer;
    box-shadow: 0 8px 20px rgba(255,105,168,0.12);
  }
  button.secondary{ background:transparent; color:#6a3b52; border:1px solid rgba(106,59,82,0.08); box-shadow:none; }

  .board{
    display:flex;
    gap:18px;
    align-items:flex-start;
    justify-content:space-between;
    flex-wrap:wrap;
  }

  .left{
    flex:1 1 60%;
    min-width:280px;
    display:flex;
    flex-direction:column;
    gap:12px;
    background: linear-gradient(180deg, rgba(255,255,255,0.7), rgba(255,255,255,0.9));
    border-radius:14px;
    padding:16px;
    box-shadow: var(--card-shadow);
  }

  #game-container{
    display:grid;
    grid-template-columns: repeat(auto-fill, minmax(78px, 1fr));
    gap:12px;
    align-items:start;
  }

  .card{
    background:white;
    border-radius:12px;
    padding:12px;
    text-align:center;
    font-weight:700;
    font-size:18px;
    color:#5b2a3f;
    border:1px solid rgba(83,50,75,0.06);
    box-shadow: 0 10px 26px rgba(153,86,120,0.08);
    cursor:pointer;
    user-select:none;
    transition:transform .14s ease, box-shadow .14s ease, background .14s ease;
  }
  .card.selected{ transform:translateY(-8px) scale(1.04); box-shadow:0 18px 36px rgba(168,92,125,0.18); background:linear-gradient(180deg,#fff #fff6fb); border:1px solid rgba(255,105,168,0.22); }

  .controls{ display:flex; gap:8px; margin-top:12px; flex-wrap:wrap; }

  .right{
    width:300px; min-width:260px;
    display:flex; flex-direction:column; gap:12px;
    max-height:80vh;
  }

  /* Debug toggle button */
  #btn-debug {
    position: fixed;
    top: 10px;
    right: 10px;
    background: #333;
    color: #fff;
    border: none;
    padding: 8px 14px;
    border-radius: 6px;
    font-size: 13px;
    cursor: pointer;
    z-index: 10000;
    opacity: 0.8;
    transition: opacity 0.2s;
  }
  #btn-debug:hover { opacity: 1; }

  #bs-banner{ position:fixed; left:50%; transform:translateX(-50%); top:20px; background: linear-gradient(90deg,#ff89bb,#ff5aa0); color:white; padding:10px 18px; border-radius:20px; font-weight:700; display:none; box-shadow: 0 10px 30px rgba(255,90,140,0.18); z-index:9999; }

  @media(max-width:800px){
    .board{ flex-direction:column; }
    .right{ width:100%; max-height:none; }
    .top-right{ flex-direction:column; }
  }
</style>
</head>
<body>
<!-- floating debug toggle -->
<button id="btn-debug">Debug: OFF</button>

<div id="bs-banner">bullshit!</div>
<div class="app">
  <div class="card-shell">
    <header class="app-header">
      <div class="logo">
        <div class="mark">BS!</div>
        <div>
          <h1>bullshit!</h1>
          <p>local lobby play</p>
        </div>
      </div>
      <div style="display:flex;gap:12px;align-items:center;">
        <button class="secondary" id="btn-leave">Leave</button>
      </div>
    </header>

    <!-- LOBBY -->
    <div id="lobby-container">
      <div class="input-row">
        <input id="player-name" type="text" placeholder="your name" />
        <input id="lobby-name" type="text" placeholder="lobby name" />
        <button id="btn-join">join lobby</button>
      </div>
    </div>

    <!-- GAME -->
    <div id="game-container-wrapper" style="display:none;">
      <div class="board">
        <div class="left">
          <div class="meta">
            <div>
              <div id="game-info">current turn: —</div>
            </div>
            <div style="text-align:right;">
              <div>player hand</div>
              <div id="player-name-display">—</div>
            </div>
          </div>
          <div id="game-container" aria-live="polite"></div>
          <div class="controls">
            <button id="btn-play">play selected</button>
            <button id="btn-draw" class="secondary">draw</button>
            <button id="btn-bullshit">bullshit!</button>
          </div>
        </div>

        <div class="right">
          <!-- Top: Pile + Players -->
          <div class="top-right">
            <div class="pile-section">
              <h3>Pile</h3>
              <div id="pile-container"></div>
            </div>
            <div class="players-section">
              <h3>Players</h3>
              <ul id="players-list"></ul>
            </div>
          </div>

          <!-- Bottom: Chat -->
          <div class="chat-section">
            <h3>Chat</h3>
            <div id="chat-container">
              <div id="chat-messages"></div>
              <div id="chat-input-row">
                <input type="text" id="chat-input" placeholder="type a message..." />
                <button id="chat-send">send</button>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
<script>
  const firebaseConfig = {
    apiKey: "AIzaSyDuRUwCmQCoSJTMvwqaY4Hj-SPv4WCHWpQ",
    authDomain: "bullshit-f4f8e.firebaseapp.com",
    databaseURL: "https://bullshit-f4f8e-default-rtdb.firebaseio.com",
    projectId: "bullshit-f4f8e",
    storageBucket: "bullshit-f4f8e.appspot.com",
    messagingSenderId: "497908378251",
    appId: "1:497908378251:web:8f93b8a4d1d27539b2c28e"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  let debugEnabled = false;
  document.getElementById('btn-debug').onclick = () => {
    debugEnabled = !debugEnabled;
    firebase.database.enableLogging(debugEnabled);
    document.getElementById('btn-debug').textContent = debugEnabled ? "Debug: ON" : "Debug: OFF";
    console.log("Firebase debug logging:", debugEnabled ? "ON" : "OFF");
  };

  // ... keep the rest of your existing JS logic here ...
</script>
</body>
</html>
